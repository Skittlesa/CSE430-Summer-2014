reader 0 is sleeping.
reader 2 is sleeping.
reader 1 is sleeping.
writer 0 is sleeping.
writer 1 is sleeping.
reader 2 wants to read.
reader 2 is reading. Count = 1
reader 2 is done reading. Count = 0
reader 2 is sleeping.
reader 0 wants to read.
reader 0 is reading. Count = 1
writer 0 wants to write.
reader 0 is done reading. Count = 0
reader 0 is sleeping.
writer 0 is writing.
reader 1 wants to read.
writer 0 is done writing.
writer 0 is sleeping.
reader 1 is reading. Count = 1
reader 2 wants to read.
reader 2 is reading. Count = 2